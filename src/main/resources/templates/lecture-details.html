<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Детали лекции</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<h1>Детали лекции</h1>

<!-- Ссылка "Назад" на список лекций предмета -->
<a th:href="@{/kubstuTest/{subjectId}/lectures(subjectId=${subjectId})}">Назад</a>

<!-- Информация о лекции -->
<h2 th:text="${selectedLecture.title}">Название лекции</h2>
<p><strong>Описание:</strong> <span th:text="${selectedLecture.description}">Описание…</span></p>
<p><strong>Содержание:</strong></p>
<div th:utext="${selectedLecture.content}"></div>

<!-- Прикреплённые тесты (уже отфильтрованные в контроллере) -->
<h3>Тесты</h3>
<div th:if="${tests != null and !#lists.isEmpty(tests)}">
    <ul>
        <li th:each="test : ${tests}">
            <p><strong>Тест:</strong> <span th:text="${test.description}">Описание теста</span></p>
            <p>Количество вопросов: <span th:text="${test.questionCount}">0</span></p>
            <p>Тема: <span th:text="${test.topic.name}">Тема</span></p>

            <form th:action="@{/kubstuTest/test/{testId}(testId=${test.id})}" method="get">
                <button type="submit">Перейти к тесту</button>
            </form>
            <hr/>
        </li>
    </ul>
</div>
<div th:if="${tests == null or #lists.isEmpty(tests)}">
    <p>Нет доступных тестов.</p>
</div>

<!-- Обработка ошибок -->
<div th:if="${error != null}">
    <p style="color: red;" th:text="${error}">Ошибка</p>
</div>
</body>
</html>
